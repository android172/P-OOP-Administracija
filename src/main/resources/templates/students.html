<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
	<title>Studentska sluzba</title>
	<link rel="stylesheet" type="text/css" href="../static/css/style.css" th:href="@{/css/style.css}"/>
	<link rel="stylesheet" type="text/css" href="../static/css/data-style.css" th:href="@{/css/data-style.css}"/>
	<script type="text/javascript" language="Javascript" src="../static/js/loader.js" th:src="@{/js/loader.js}"></script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,300,600,600,800' rel='stylesheet' type='text/css'>

    <script type="text/javascript" language="Javascript" src="../static/js/token.js" th:src="@{/js/token.js}"></script>
	<script type="text/javascript" language="Javascript" src="../static/js/ui.js" th:src="@{/js/ui.js}"></script>
</head>
<body onload="initializeMultiSelect(); getToken(); addTokenToForm('search'); addTokenToForm('newform'); addTokenToLinks(); loadDataToTable();">
	<div id="wrapper">
		<header>
			<h1><a href="admin" class="tokenify">Admin</a> / Studenti</h1>
			<div id="user">
				<p>Ime Prezime</p>
				<img src="../images/user-img.bmp" id="user-img">
			</div>
		</header>
		<div id="content">
			<div id="content-header">
				<form action="/get_students" id="search" method="get" target="dataframe">
					<input type="text" id="searchbar" value="" placeholder="Search...">

					<div class="form-element">
						<label class="select-label" for="date_of_birth">Datum rodjenja:</label>
						<select name="date_of_birth" onchange="this.form.submit()">
							<option>all</option>
						</select>
					</div>

					<!--<div class="form-element">
						<label for="city">Grad:</label>
						<select type="text" name="city" onchange="this.form.submit()" multiple>
							<option>all</option>
							<option>Prvogradic</option>
							<option>Prvogradic+Drugogradic</option>
						</select>
					</div>-->
					<div class="multiselect form-element">
	    				<div class="selectBox">
	    					<label class="select-label" for="multiselect-1">Grad:</label>
						      	<select id="multiselect-1" name="city">
						        	<option value="all">all</option>
						      	</select>
					    <div class="overSelect" id="multiselect-1-area"></div>
					    </div>
					    <div id="checkboxes">
					    	<label class="option-label" for="all">
					        	All
					        	<input type="checkbox" id="all" onchange="updateCheckboxValue()" checked=true/>
					    	</label>
					    	<label class="option-label" for="Prvogradic">
					        	Prvogradic
					        	<input type="checkbox" id="Prvogradic" onchange="updateCheckboxValue()"/>
					        </label>
					      	<label class="option-label" for="Drugogradic">
					        	Drugogradic
					        	<input type="checkbox" id="Drugogradic" onchange="updateCheckboxValue()"/>
					    	</label>
					    </div>
					</div>

					<div class="form-element">
						<label class="select-label" for="major">Smer:</label>
						<select type="text" name="major" onchange="this.form.submit()">
							<option>all</option>
						</select>
					</div>

					<div class="form-element">
						<label class="select-label" for="order_by">Redosled:</label>
						<select type="text" name="order_by" id="last_col" onchange="this.form.submit()">
							<option value="birthyear-asc">birthyear-asc</option>
							<option value="first_name-asc">Ime rastuce</option>
							<option value="last_name-asc">Prezime rastuce</option>
						</select>
					</div>

					<div class="form-element">
						<input type="submit" value="Submit">
					</div>

					<div class="form-element">
						<button onclick="toggleElement('new-element');" id="new-button">+</button>
					</div>
				</form>
			</div>
			<table id="data">
				<tr>
					<th>Ime</th><th>Prezime</th><th>Indeks</th>
				</tr>
				<tr>
					<td>Ime</td><td>Prezime</td><td>Indeks</td>
				</tr>
			</table>
		</div>

		<div id="new-element">
			<div class="flex-col size-max">
				<form action="/add_student" id="newform" method="get" target="sendframe" class="pad-medium wide flex-col">
					<div class="flex-row wide pad-light">
						<label for="first_name">Ime:</label><input type="text" name="first_name">
					</div>

					<div class="flex-row wide pad-light">
						<label for="last_name">Prezime:</label><input type="text" name="last_name">
					</div>

					<div class="flex-row wide pad-light">
						<label for="index_num">Index:</label><input type="text" name="index_num">
					</div>

					<div class="flex-row wide pad-light">
						<label for="date_of_birth">Datum rodjenja:</label><input type="date" name="date_of_birth">
					</div>

					<div class="flex-row wide pad-light">
						<label for="city">Grad:</label><input type="text" name="city">
					</div>

					<div class="flex-row wide pad-light">
						<label for="jmbg">JMBG:</label><input type="text" name="jmbg">
					</div>

					<div class="flex-row wide pad-light">
						<label for="major_id">Smer:</label><input type="text" name="major_id">
					</div>
				</form>
				<div class="flex-row wide pad-medium">
					<button type="submit" form="newform">Submit</button>
					<button type="reset" form="newform">Clear</button>
				</div>
			</div>
		</div>

		<iframe src="" name="sendframe" id="sendframe"></iframe>
		<iframe src="" name="dataframe" id="dataframe" onload="fillTable()"></iframe>
	</div>
</body>
</html>